# 竞品比价 - OneBound 不可用时的替代方案

OneBound 控制台若无法访问，可选用以下方式获取竞品价格。

## 一、拼多多 蚂蚁星球（推荐，免费）

**特点**：免费、支持关键词搜索、返回价格

1. 打开 https://www.haojingke.com/open-api/pdd
2. 注册并申请 apikey
3. 在 `.env` 中配置：
   ```bash
   PDD_HOJINGKE_APIKEY=你的apikey
   ```
4. 执行 `npm run htma:price_compare`，将自动使用拼多多数据

**注意**：与京东对标不同，拼多多价格通常更低，比价结果会偏向「好特卖优势更大」。

---

## 二、京东自主爬取（Playwright）

**特点**：免费、无需 API key，但受京东反爬影响

1. 安装 Chromium：`playwright install chromium`
2. 执行：`npm run htma:price_scrape`

**当前策略**：
- 从搜索页提取商品 sku ID → 调用 `p.3.cn` 价格接口
- 若 p.3.cn 超时，则从页面 DOM 解析价格

---

## 三、聚合数据 商品比价

若聚合数据接口已恢复：

1. 申请 https://www.juhe.cn/docs/api/id/137
2. 配置 `JUHE_PRICE_KEY=你的key`

---

## 四、优先级

`get_configured_fetcher` 当前优先级：

1. OneBound（若可用）
2. 拼多多 蚂蚁星球（若配置 PDD_HOJINGKE_APIKEY）
3. 聚合数据
4. 百度 API 商城

当 OneBound 预检失败时，会自动尝试拼多多。
