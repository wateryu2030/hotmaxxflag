# 报表访问与下载说明

## 一、访问入口（推荐直接使用）

### 1. 报表列表（带分类，避免 undefined 报错）

```
http://127.0.0.1:8085/jmreport/list?menuType=984272091947253760
```

- 访问 `/` 或 `/jmreport/list` 会自动重定向到上述地址
- 左侧选「数据报表」后可看到报表列表

### 2. 报表预览（推荐用内置简单明细表验证）

- **简单明细表（内置，推荐）**：`http://127.0.0.1:8085/jmreport/view/1350035590569136128`
- **好特卖销售明细**（需在设计中完善配置）：`http://127.0.0.1:8085/jmreport/view/8946110000000000001`
  - 设计/编辑：`http://127.0.0.1:8085/jmreport/index/8946110000000000001?menuType=984272091947253760`

### 3. BI 大屏

```
http://127.0.0.1:8085/drag/list
```

## 二、下载目录

- **配置路径**：`/Users/document/好特卖超级仓/数据分析/downloads`
- 报表导出（Excel/PDF/Word）时，自动化导出会保存到此目录
- 点击「导出」时，浏览器会将文件下载到系统默认下载目录（如 ~/Downloads）

## 三、本次修改摘要

| 修改项 | 说明 |
|-------|------|
| 首页重定向 | `/` 自动跳转到 `/jmreport/list?menuType=984272091947253760` |
| 列表拦截器 | 访问 `/jmreport/list` 无 menuType 时自动补全并重定向 |
| 兜底接口 | `/jmreport/undefined` 与 `/jmreport/desreport/undefined` 返回空列表，避免 404 |
| **View 注入** | 向 `/jmreport/view/*` 页面注入 baseFull 和 token，解决 "undefined" 导致 404 和 Network Error |
| 下载路径 | 配置 `download-path` 指向项目下的 `downloads` 目录 |
| 图片代理 | `/jmreport/proxy/image?url=xxx` 可代理 static.jeecg.com 图片（需前端配合） |

## 四、重启生效

```bash
cd /Users/document/好特卖超级仓/数据分析/JimuReport/jimureport-example
# 若服务已运行，先 Ctrl+C 停止
mvn spring-boot:run
```

启动后访问：`http://127.0.0.1:8085` 或 `http://127.0.0.1:8085/jmreport/list?menuType=984272091947253760`
